{% extends "base.html" %}
{% load widget_tweaks %}
{% load i18n %}

{% block title %}{% trans "Manage Social Connections" %}{% endblock %}

{% block content %}
<div class="flex justify-center items-center min-h-screen bg-gray-50 dark:bg-background-dark">
  <div class="w-full max-w-md bg-white dark:bg-gray-900 p-8 rounded-xl shadow-md space-y-6">
    <div class="text-center">
      <h2 class="text-3xl font-bold text-gray-900 dark:text-white">
        {% trans "Manage Social Connections" %}
      </h2>
      <p class="mt-2 text-sm text-black/60 dark:text-white/60">
        {% trans "Connect or disconnect your linked social media accounts." %}
      </p>
    </div>

    {% if socialaccounts %}
      <ul class="space-y-4">
        {% for account in socialaccounts %}
          <li class="flex justify-between items-center bg-gray-100 dark:bg-gray-800 rounded-lg p-3">
            <div>
              <p class="font-semibold text-gray-900 dark:text-white">
                {{ account.provider|capfirst }}
              </p>
              <p class="text-sm text-gray-600 dark:text-gray-400">
                {{ account.uid }}
              </p>
            </div>
            <form method="post" action="{% url 'socialaccount_connections' %}" class="m-0">
              {% csrf_token %}
              <input type="hidden" name="account" value="{{ account.id }}">
              <button
                type="submit"
                name="action"
                value="disconnect"
                class="rounded-lg bg-red-500 hover:bg-red-600 text-white text-sm font-semibold px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-400"
              >
                {% trans "Disconnect" %}
              </button>
            </form>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-center text-sm text-gray-600 dark:text-gray-400">
        {% trans "No social accounts connected." %}
      </p>
    {% endif %}

    <div class="pt-4">
      <a
        href="{% url 'socialaccount_connections' %}"
        class="block w-full text-center rounded-lg bg-primary py-3 px-4 text-sm font-bold text-white hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-primary"
      >
        {% trans "Add Social Connection" %}
      </a>

      <a
        href="{% url 'customers:plan_list' %}"
        class="block w-full text-center mt-3 rounded-lg bg-gray-400 py-3 px-4 text-sm font-bold text-white hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-primary"
      >
        {% trans "Cancel" %}
      </a>
    </div>
  </div>
</div>
{% endblock %}
