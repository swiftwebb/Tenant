{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Beebz</title>

<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700;900&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>

<script>
  tailwind.config = {
    theme: {
      extend: {
        colors: {
          primary: "#2563eb", /* bright blue */
          "background-light": "#f0f6ff",
          "background-dark": "#0a192f",
          accent: "#3b82f6",
        },
        fontFamily: {
          display: ["Be Vietnam Pro", "sans-serif"]
        }
      },
    },
  }
</script>

<style>
  .material-symbols-outlined {
      font-variation-settings:
      'FILL' 0,
      'wght' 400,
      'GRAD' 0,
      'opsz' 24;
  }

  body {
    background-color: #f0f6ff;
  }

  .dark body {
    background-color: #0a192f;
  }
</style>
<style>
  @media print {
    .btn, nav, footer { display: none; }
  }
  .material-symbols-outlined {
      font-variation-settings:
      'FILL' 0,
      'wght' 400,
      'GRAD' 0,
      'opsz' 24
  }
</style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display">
<div class="relative flex h-auto min-h-screen w-full flex-col group/design-root">
<div class="layout-container flex h-full grow flex-col">
  <header class="sticky top-0 z-50 flex items-center justify-between border-b border-gray-200 dark:border-gray-800 px-6 md:px-10 py-3 bg-white dark:bg-background-dark shadow-sm">
    <!-- Left: Logo -->
    <div class="flex items-center gap-4">
      <div class="size-6 text-primary">
        <svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
          <path d="M6 6H42L36 24L42 42H6L12 24L6 6Z" fill="currentColor"></path>
        </svg>
      </div>
      <h2 class="text-xl font-bold text-gray-900 dark:text-white">Beebs_feet</h2>
    </div>
  
    <!-- ✅ Desktop Nav -->
    <nav class="hidden md:flex items-center gap-8">
      <a href="{% url 'home' %}" class="text-sm font-medium text-gray-900 dark:text-white hover:text-primary transition-colors">Home</a>
      <a href="{% url 'product_list' %}" class="text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-primary transition-colors">Shop</a>
      <a href="{% url 'ordderlist' %}" class="text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-primary transition-colors">Orders</a>
    </nav>
  
    <!-- Right Side -->
    <div class="flex items-center gap-3">
      <form action="{% url 'search' %}" class="hidden md:flex items-center bg-background-light dark:bg-gray-800 rounded-lg h-10 px-3">
        <span class="material-symbols-outlined text-gray-500 dark:text-gray-400">search</span>
        <input name="q" type="search"
               class="bg-transparent border-none focus:ring-0 text-sm text-gray-900 dark:text-white ml-2 placeholder:text-gray-500 dark:placeholder:text-gray-400"
               placeholder="Search..."/>
      </form>
  
      {% if request.user.is_authenticated %}
        <a href="{% url 'account_logout' %}" class="hidden md:flex items-center justify-center h-10 px-3 rounded-lg bg-background-light dark:bg-gray-800 text-sm font-semibold text-gray-900 dark:text-white hover:text-primary transition-colors">Logout</a>
      {% else %}
        <a href="{% url 'account_signup' %}" class="hidden md:flex items-center justify-center h-10 px-3 rounded-lg bg-background-light dark:bg-gray-800 text-sm font-semibold text-gray-900 dark:text-white hover:text-primary transition-colors">Signup</a>
        <a href="{% url 'account_login' %}" class="hidden md:flex items-center justify-center h-10 px-3 rounded-lg bg-background-light dark:bg-gray-800 text-sm font-semibold text-gray-900 dark:text-white hover:text-primary transition-colors">Login</a>
      {% endif %}
  
      <a href="{% url 'cart_view' %}" class="hidden md:flex">
        <button class="h-10 w-10 flex items-center justify-center rounded-lg bg-background-light dark:bg-gray-800 text-gray-900 dark:text-white hover:text-primary transition-colors">
          <span class="material-symbols-outlined">shopping_cart</span>
        </button>
      </a>
  
      <button id="menu-btn" class="md:hidden text-gray-900 dark:text-white focus:outline-none">
        <span class="material-symbols-outlined text-3xl">menu</span>
      </button>
    </div>
  </header>
  
  <!-- Mobile Dropdown -->
  <div id="mobile-menu" class="hidden md:hidden bg-white dark:bg-background-dark border-b border-gray-200 dark:border-gray-800 px-6 py-4 space-y-3">
    <a href="{% url 'home' %}" class="block text-sm font-medium text-gray-900 dark:text-white hover:text-primary transition-colors">Home</a>
    <a href="{% url 'product_list' %}" class="block text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-primary transition-colors">Shop</a>
    <a href="{% url 'ordderlist' %}" class="block text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-primary transition-colors">Orders</a>
  
    {% if request.user.is_authenticated %}
      <a href="{% url 'account_logout' %}" class="block text-sm font-medium text-gray-900 dark:text-white hover:text-primary transition-colors">Logout</a>
    {% else %}
      <a href="{% url 'account_login' %}" class="block text-sm font-medium text-gray-900 dark:text-white hover:text-primary transition-colors">Login</a>
      <a href="{% url 'account_signup' %}" class="block text-sm font-medium text-gray-900 dark:text-white hover:text-primary transition-colors">Signup</a>
    {% endif %}
  
    <a href="{% url 'cart_view' %}" class="block text-sm font-medium text-gray-900 dark:text-white hover:text-primary transition-colors">Cart</a>
    <form action="{% url 'search' %}" class="flex items-center bg-background-light dark:bg-gray-800 rounded-lg h-10 px-3">
      <span class="material-symbols-outlined text-gray-500 dark:text-gray-400">search</span>
      <input name="q" type="search"
             class="bg-transparent border-none focus:ring-0 text-sm text-gray-900 dark:text-white ml-2 placeholder:text-gray-500 dark:placeholder:text-gray-400"
             placeholder="Search..."/>
    </form>
  </div>
  
<main class="flex-1">
  {% if messages %}
  <div class="fixed top-4 right-4 z-50 space-y-3">
    {% for message in messages %}
      <div
        class="p-4 rounded-lg shadow-lg text-white 
        {% if message.tags == 'success' %}
          bg-green-500
        {% elif message.tags == 'error' %}
          bg-red-500
        {% elif message.tags == 'warning' %}
          bg-yellow-500
        {% else %}
          bg-blue-500
        {% endif %}
        transition-all duration-500 transform opacity-100 translate-y-0"
      >
        <div class="flex items-center justify-between">
          <p class="font-medium">{{ message }}</p>
          <button
            class="ml-3 text-white/70 hover:text-white"
            onclick="this.parentElement.parentElement.remove()"
          >
            ✕
          </button>
        </div>
      </div>
    {% endfor %}
  </div>
{% endif %}

    {% block content %}
    {% endblock content %}

</main>
{% include "beebz/whiteecom/footer.html" %}


</div>
<a href="https://wa.me/2349025124022" class="whatsapp_float" target="_blank">
  <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" class="whatsapp_icon">


<div class="support_bubble">
  Click here to contact our support teams
</div>
</a>

<style>
.whatsapp_float {
  position: fixed;
  width: 60px;
  height: 60px;
  bottom: 20px;
  right: 20px;
  background-color: #25d366;
  color: #FFF;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0px 4px 12px rgba(0,0,0,0.2);
  z-index: 100;
  cursor: pointer;
}

.whatsapp_icon {
  width: 60%;
}

/* Small bubble text */
.support_bubble {
  position: fixed;
  bottom: 95px;
  right: 20px;
  background: white;
  padding: 10px 14px;
  border-radius: 12px;
  font-size: 14px;
  color: #333;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  max-width: 200px;
  z-index: 99;
  border-left: 4px solid #25d366;
}

/* Hide text bubble on small screens */
@media (max-width: 600px) {
  .support_bubble {
    display: none;
  }
}
</style>





<script>
  document.addEventListener("DOMContentLoaded", () => {
    const menuBtn = document.getElementById('menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
  
    // Toggle menu
    menuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  
    // Close menu when clicking links
    const menuLinks = mobileMenu.querySelectorAll('a');
    menuLinks.forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu.classList.add('hidden');
      });
    });
  });
</script>

  {{ request.tenant.id|json_script:"tenant_id" }}
  <script>
    const tenantId = JSON.parse(document.getElementById('tenant_id').textContent);
  
    fetch("/track_visit/", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        tenant_id: tenantId,
        path: window.location.pathname,
        referrer: document.referrer,
        user_agent: navigator.userAgent
      })
    });
  </script>
</body>

</html>